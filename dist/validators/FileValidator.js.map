{"version":3,"sources":["../../src/validators/FileValidator.js"],"names":["updateFileValidator","Joi","object","keys","filename","string","required","bucket","name","tag","sharedUser","array","validateFileUpdate","req","res","next","err","validate","body","abortEarly","error","status","send","errors","details","map","x","message"],"mappings":";;;;;;;AAAA;;;;;;AAEA,IAAMA,sBAAsBC,cAAIC,MAAJ,GAAaC,IAAb,CAAkB;AAC1CC,cAAUH,cAAII,MAAJ,GAAaC,QAAb,EADgC;AAE1CC,YAAQN,cAAII,MAAJ,GAAaC,QAAb,EAFkC;AAG1CE,UAAMP,cAAII,MAAJ,GAAaC,QAAb,EAHoC;AAI1CG,SAAKR,cAAII,MAAJ,GAAaC,QAAb,EAJqC;AAK1CI,gBAAYT,cAAIU,KAAJ,GAAYL,QAAZ;AAL8B,CAAlB,CAA5B;;AAQO,IAAMM,kDAAoB,SAApBA,kBAAoB,CAACC,GAAD,EAAMC,GAAN,EAAWC,IAAX,EAAmB;AAChD,QAAMC,MAAMf,cAAIgB,QAAJ,CAAaJ,IAAIK,IAAjB,EAAuBlB,mBAAvB,EAA4C,EAACmB,YAAY,KAAb,EAA5C,CAAZ;AACAH,QAAII,KAAJ,KAAc,IAAd,GAAqBN,IAAIO,MAAJ,CAAW,GAAX,EAAgBC,IAAhB,CAAqB,EAACC,QAASP,IAAII,KAAJ,CAAUI,OAAX,CAAoBC,GAApB,CAAwB;AAAA,mBAAKC,EAAEC,OAAP;AAAA,SAAxB,CAAT,EAArB,CAArB,GAAgGZ,MAAhG;AACH,CAHM","file":"FileValidator.js","sourcesContent":["import Joi from 'joi'\n\nconst updateFileValidator = Joi.object().keys({\n    filename: Joi.string().required(),\n    bucket: Joi.string().required(),\n    name: Joi.string().required(),\n    tag: Joi.string().required(),\n    sharedUser: Joi.array().required()\n})\n\nexport const validateFileUpdate =(req, res, next)=> {\n    const err = Joi.validate(req.body, updateFileValidator, {abortEarly: false} )\n    err.error !== null ? res.status(422).send({errors: (err.error.details).map(x => x.message) }) : next()\n}\n"]}