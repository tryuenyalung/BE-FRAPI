{"version":3,"sources":["../../src/validators/EfileValidator.js"],"names":["postReqValidator","Joi","object","keys","name","string","required","content","recipient","array","sender","private_doc","boolean","postReqValidate","req","res","next","err","validate","body","abortEarly","error","status","send","errors","details","map","x","message"],"mappings":";;;;;;;AAAA;;;;;;AAEA,IAAMA,mBAAmBC,cAAIC,MAAJ,GAAaC,IAAb,CAAkB;AACvCC,UAAMH,cAAII,MAAJ,GAAaC,QAAb,EADiC;AAEvCC,aAASN,cAAII,MAAJ,GAAaC,QAAb,EAF8B;AAGvCE,eAAWP,cAAIQ,KAAJ,GAAYH,QAAZ,EAH4B;AAIvCI,YAAQT,cAAIC,MAAJ,GAAaI,QAAb,EAJ+B;AAKvCK,iBAAaV,cAAIW,OAAJ,GAAcN,QAAd;AAL0B,CAAlB,CAAzB;;AAQO,IAAMO,4CAAiB,SAAjBA,eAAiB,CAACC,GAAD,EAAMC,GAAN,EAAWC,IAAX,EAAmB;AAC7C,QAAMC,MAAMhB,cAAIiB,QAAJ,CAAaJ,IAAIK,IAAjB,EAAuBnB,gBAAvB,EAAyC,EAACoB,YAAY,KAAb,EAAzC,CAAZ;AACAH,QAAII,KAAJ,KAAc,IAAd,GAAqBN,IAAIO,MAAJ,CAAW,GAAX,EAAgBC,IAAhB,CAAqB,EAACC,QAASP,IAAII,KAAJ,CAAUI,OAAX,CAAoBC,GAApB,CAAwB;AAAA,mBAAKC,EAAEC,OAAP;AAAA,SAAxB,CAAT,EAArB,CAArB,GAAgGZ,MAAhG;AACH,CAHM","file":"EfileValidator.js","sourcesContent":["import Joi from 'joi'\n\nconst postReqValidator = Joi.object().keys({\n    name: Joi.string().required(),\n    content: Joi.string().required(),\n    recipient: Joi.array().required(),\n    sender: Joi.object().required(),\n    private_doc: Joi.boolean().required() \n})\n\nexport const postReqValidate =(req, res, next)=> {\n    const err = Joi.validate(req.body, postReqValidator, {abortEarly: false} )\n    err.error !== null ? res.status(422).send({errors: (err.error.details).map(x => x.message) }) : next()\n}\n"]}