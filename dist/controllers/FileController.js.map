{"version":3,"sources":["../../src/controllers/FileController.js"],"names":["bucketList","keys","BUCKET_LIST","validateFile","req","res","next","bucketName","getBucket","headers","bucket","status","send","NO_BUCKET_ERR_MSG","sendResponse","json","file","bucketFromHeader"],"mappings":";;;;;;;AAAA;;;;;;AAEA,IAAMA,aAAaC,eAAKC,WAAxB;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEO,IAAMC,sCAAc,SAAdA,YAAc,CAACC,GAAD,EAAMC,GAAN,EAAWC,IAAX,EAAmB;AAC1C,QAAIC,aAAaC,UAAUJ,IAAIK,OAAJ,CAAYC,MAAtB,CAAjB;;AAEAH,mBAAe,IAAf,GAAsBD,MAAtB,GACID,IAAIM,MAAJ,CAAW,GAAX,EAAgBC,IAAhB,CAAqBX,eAAKY,iBAA1B,CADJ;AAGH,CANM,C,CAMN;;AAEM,IAAMC,sCAAc,SAAdA,YAAc,CAACV,GAAD,EAAKC,GAAL,EAAW;AAClCA,QAAIU,IAAJ,CAAS,EAACC,MAAMZ,IAAIY,IAAX,EAAT;AACH,CAFM;;AAIP;AACA,IAAMR,YAAW,SAAXA,SAAW,CAACS,gBAAD,EAAqB;AAClC,QAAIP,SAASV,WAAWiB,gBAAX,CAAb;AACA,WAAOP,SAASA,MAAT,GAAkB,IAAzB;AACH,CAHD","file":"FileController.js","sourcesContent":["import keys from './../keys'\n\nconst bucketList = keys.BUCKET_LIST\n\n// export const validateFile =(req, res, next)=>{\n//     let bucketName = getBucket(req.headers.bucket)\n        \n//     if(bucketName === null){\n//         res.status(400).send(keys.NO_BUCKET_ERR_MSG) }\n//     }else{\n//         next()\n//     }\n// }\n\nexport const validateFile =(req, res, next)=> {\n    let bucketName = getBucket(req.headers.bucket)\n\n    bucketName !== null ? next() :\n        res.status(400).send(keys.NO_BUCKET_ERR_MSG) \n    \n}//@end\n\nexport const sendResponse =(req,res)=>{\n    res.json({file: req.file})\n}\n\n// check the file extension and the bucket for it\nconst getBucket =(bucketFromHeader)=> {\n    let bucket = bucketList[bucketFromHeader]\n    return bucket ? bucket : null\n}\n\n  "]}