{"version":3,"sources":["../../src/routes/FileRoute.js"],"names":["FileController","FileUpload","FileStream","FileValidator","router","express","Router","get","findAllFilesByOwner","findAllSharedFilesByUserId","deactivateFile","findOne","keys","BUCKET","SIGNATURE","IMAGE","PROFILE","DOCUMENT","PRESENTATION","SPREADSHEET","post","upload","single","sendResponse","put","validateFileUpdate","updateFile"],"mappings":";;;;;;AAAA;;;;AACA;;IAAYA,c;;AACZ;;IAAYC,U;;AACZ;;IAAYC,U;;AACZ;;IAAYC,a;;AACZ;;;;;;;;AAIA;AACA;AACA;AACA;;;AAGA,IAAMC,SAASC,kBAAQC,MAAR,EAAf;;AAEA;AACAF,OAAOG,GAAP,CAAW,GAAX,EAAgBL,WAAWM,mBAA3B;;AAEAJ,OAAOG,GAAP,CAAW,aAAX,EAA0BL,WAAWO,0BAArC;;AAEAL,OAAOG,GAAP,CAAW,SAAX,EAAsBL,WAAWQ,cAAjC;;AAEAN,OAAOG,GAAP,CAAW,sBAAX,EAAmCL,WAAWS,OAAX,CAAmBC,eAAKC,MAAL,CAAYC,SAA/B,CAAnC;AACAV,OAAOG,GAAP,CAAW,kBAAX,EAA+BL,WAAWS,OAAX,CAAmBC,eAAKC,MAAL,CAAYE,KAA/B,CAA/B;AACAX,OAAOG,GAAP,CAAW,oBAAX,EAAiCL,WAAWS,OAAX,CAAmBC,eAAKC,MAAL,CAAYG,OAA/B,CAAjC;AACAZ,OAAOG,GAAP,CAAW,qBAAX,EAAkCL,WAAWS,OAAX,CAAmBC,eAAKC,MAAL,CAAYI,QAA/B,CAAlC;AACAb,OAAOG,GAAP,CAAW,yBAAX,EAAsCL,WAAWS,OAAX,CAAmBC,eAAKC,MAAL,CAAYK,YAA/B,CAAtC;AACAd,OAAOG,GAAP,CAAW,wBAAX,EAAqCL,WAAWS,OAAX,CAAmBC,eAAKC,MAAL,CAAYM,WAA/B,CAArC;;AAEAf,OAAOgB,IAAP,CAAa,GAAb;AACI;AACAnB,WAAWoB,MAAX,CAAkBC,MAAlB,CAAyB,MAAzB,CAFJ,EAGItB,eAAeuB,YAHnB;;AAMAnB,OAAOoB,GAAP,CAAY,GAAZ,EACIrB,cAAcsB,kBADlB,EAEIvB,WAAWwB,UAFf;;AAKA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;kBAEetB,M","file":"FileRoute.js","sourcesContent":["import express from 'express'\nimport * as FileController from './../controllers/FileController'\nimport * as FileUpload from './../services/GridFsStorage'\nimport * as FileStream from './../services/GridFsStream'\nimport * as FileValidator from './../validators/FileValidator'\nimport keys from './../keys'\n\n\n\n// import mongoose from 'mongoose'\n// import path from 'path'\n// import Grid from 'gridfs-stream'\n// import keys from './../keys'\n \n\nconst router = express.Router()\n\n// router.get('/', FileStream.findAll)\nrouter.get('/', FileStream.findAllFilesByOwner)\n\nrouter.get('/sharedFile', FileStream.findAllSharedFilesByUserId)\n\nrouter.get('/delete', FileStream.deactivateFile)\n\nrouter.get('/signature/:filename', FileStream.findOne(keys.BUCKET.SIGNATURE) )\nrouter.get('/image/:filename', FileStream.findOne(keys.BUCKET.IMAGE) )\nrouter.get('/profile/:filename', FileStream.findOne(keys.BUCKET.PROFILE) )\nrouter.get('/document/:filename', FileStream.findOne(keys.BUCKET.DOCUMENT) )\nrouter.get('/presentation/:filename', FileStream.findOne(keys.BUCKET.PRESENTATION) )\nrouter.get('/spreadsheet/:filename', FileStream.findOne(keys.BUCKET.SPREADSHEET) )\n\nrouter.post( \"/\",\n    // FileController.validateFile,\n    FileUpload.upload.single('file'),\n    FileController.sendResponse\n)\n\nrouter.put( \"/\",\n    FileValidator.validateFileUpdate,\n    FileStream.updateFile\n)\n\n// router.put(\n//     '/:id', \n//     usersController.method\n// )\n\n// router.delete(\n//     '/:id',\n//     usersController.method\n// )\n\nexport default router\n\n\n\n\n\n\n \n"]}