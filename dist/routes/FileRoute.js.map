{"version":3,"sources":["../../src/routes/FileRoute.js"],"names":["FileController","FileUpload","FileStream","FileValidator","router","express","Router","get","findAllFilesByOwner","deactivateFile","findOne","keys","BUCKET","SIGNATURE","IMAGE","PROFILE","DOCUMENT","PRESENTATION","SPREADSHEET","post","upload","single","sendResponse","put","validateUpdateSharedUser","updateSharedUser"],"mappings":";;;;;;AAAA;;;;AACA;;IAAYA,c;;AACZ;;IAAYC,U;;AACZ;;IAAYC,U;;AACZ;;IAAYC,a;;AACZ;;;;;;;;AAIA;AACA;AACA;AACA;;;AAGA,IAAMC,SAASC,kBAAQC,MAAR,EAAf;;AAEA;AACAF,OAAOG,GAAP,CAAW,GAAX,EAAgBL,WAAWM,mBAA3B;;AAEAJ,OAAOG,GAAP,CAAW,SAAX,EAAsBL,WAAWO,cAAjC;;AAEAL,OAAOG,GAAP,CAAW,sBAAX,EAAmCL,WAAWQ,OAAX,CAAmBC,eAAKC,MAAL,CAAYC,SAA/B,CAAnC;AACAT,OAAOG,GAAP,CAAW,kBAAX,EAA+BL,WAAWQ,OAAX,CAAmBC,eAAKC,MAAL,CAAYE,KAA/B,CAA/B;AACAV,OAAOG,GAAP,CAAW,oBAAX,EAAiCL,WAAWQ,OAAX,CAAmBC,eAAKC,MAAL,CAAYG,OAA/B,CAAjC;AACAX,OAAOG,GAAP,CAAW,qBAAX,EAAkCL,WAAWQ,OAAX,CAAmBC,eAAKC,MAAL,CAAYI,QAA/B,CAAlC;AACAZ,OAAOG,GAAP,CAAW,yBAAX,EAAsCL,WAAWQ,OAAX,CAAmBC,eAAKC,MAAL,CAAYK,YAA/B,CAAtC;AACAb,OAAOG,GAAP,CAAW,wBAAX,EAAqCL,WAAWQ,OAAX,CAAmBC,eAAKC,MAAL,CAAYM,WAA/B,CAArC;;AAEAd,OAAOe,IAAP,CAAa,GAAb;AACI;AACAlB,WAAWmB,MAAX,CAAkBC,MAAlB,CAAyB,MAAzB,CAFJ,EAGIrB,eAAesB,YAHnB;;AAMAlB,OAAOmB,GAAP,CAAY,GAAZ,EACIpB,cAAcqB,wBADlB,EAEItB,WAAWuB,gBAFf;;AAKA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;kBAEerB,M","file":"FileRoute.js","sourcesContent":["import express from 'express'\nimport * as FileController from './../controllers/FileController'\nimport * as FileUpload from './../services/GridFsStorage'\nimport * as FileStream from './../services/GridFsStream'\nimport * as FileValidator from './../validators/FileValidator'\nimport keys from './../keys'\n\n\n\n// import mongoose from 'mongoose'\n// import path from 'path'\n// import Grid from 'gridfs-stream'\n// import keys from './../keys'\n \n\nconst router = express.Router()\n\n// router.get('/', FileStream.findAll)\nrouter.get('/', FileStream.findAllFilesByOwner)\n\nrouter.get('/delete', FileStream.deactivateFile)\n\nrouter.get('/signature/:filename', FileStream.findOne(keys.BUCKET.SIGNATURE) )\nrouter.get('/image/:filename', FileStream.findOne(keys.BUCKET.IMAGE) )\nrouter.get('/profile/:filename', FileStream.findOne(keys.BUCKET.PROFILE) )\nrouter.get('/document/:filename', FileStream.findOne(keys.BUCKET.DOCUMENT) )\nrouter.get('/presentation/:filename', FileStream.findOne(keys.BUCKET.PRESENTATION) )\nrouter.get('/spreadsheet/:filename', FileStream.findOne(keys.BUCKET.SPREADSHEET) )\n\nrouter.post( \"/\",\n    // FileController.validateFile,\n    FileUpload.upload.single('file'),\n    FileController.sendResponse\n)\n\nrouter.put( \"/\",\n    FileValidator.validateUpdateSharedUser,\n    FileStream.updateSharedUser\n)\n\n// router.put(\n//     '/:id', \n//     usersController.method\n// )\n\n// router.delete(\n//     '/:id',\n//     usersController.method\n// )\n\nexport default router\n\n\n\n\n\n\n \n"]}